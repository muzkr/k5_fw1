
# Firmware for Quansheng UV-K5/K6 V2 Radios

The firmware in this repository is a port of [DualTachyon's code](https://github.com/DualTachyon/uv-k5-firmware) 
for V2 hardware. But it won't stop there. Let's see what happens next.

I have no plans to support legacy models (should we call them V1?). 
Generally speaking, when I speak of UV-K5 or K6, I am referring to the V2 hardware.


## Versioning

As I understand it, the firmware version for Quansheng radios follows the format `m.nn.vv`. 
Here, `m.nn` represents the model version, which can essentially be understood as the hardware version. 
For example, based on my experience, the model version for the UV-K5 is 1.01, while the UV-K6 uses 1.02. 
The `vv` portion, consisting of two digits, denotes the firmware/software version.

I generally follow this convention, though with a slight adjustment to the common practice of 
incrementing version numbers starting from 01. Specifically, I'll adopt the following versioning scheme:

- Until it is decent enough (stable and complete in functionality), the version number will use "large" numbers, 
such as starting from 99 and descending to 98, 97, etc
- The "decent" releases will begin from 01 and go upward as usual
- Unless there's any other reason, the model version remains at 1.01


## Serial Tool

There's a `serialtool` directory at the repo root, which contains a Python CLI tool that can be used to flash firmware to radios,
dump or restore configuration and / or calibration data.

To perform flashing you can execute the command like this:

```sh
python serialtool/cli.py flash --port /dev/ttyUSB0 --bl-ver 1.01 build/Release/k5_v2_fw.bin
```

Here, `/dev/ttyUSB0` is the serial port device. I believe on the Windows platform it should be something like COM1, COM2 and so on.
The `--bl-ver` option specifies the model version as mentioned ealier. It must match the device's version.
`build/Release/k5_v2_fw.bin` is the firmware image, such as generated by the build process. We talk about it soon.

Execute the command with `-h` option to view detailed usage: 

```sh
python serialtool/cli.py -h
```


## Building

Requires CMake, Ninja or make, along with GCC for building.


## Discussions

Let's use github Discussions.


## Credits

My work is built upon the following projects. To the wonderful authors I extend my deepest gratitude: 

- https://github.com/mentalDetector/Quansheng_UV-K5_PCB_R51-V1.4_PCB_Reversing_Rev._0.9
- https://github.com/DualTachyon/uv-k5-firmware
- https://github.com/ludwich66/Quansheng_UV-K5_Wiki


Third-party softwares and their copyright information are recorded in third_party_licenses.md


## License

Copyright (c) 2025 muzkr https://github.com/muzkr

Licensed under the MIT License (the "License"); you may not use this file except in compliance with the License.  
You may obtain a copy of the License at the root of this repository.

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
